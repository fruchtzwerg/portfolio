import{d as g,t as k,a1 as y,n as _,o,b as p,e as n,c,k as m,l as v,S as l,g as u,F as h}from"./modules/vue-DqyYkKqv.js";import{_ as C}from"./ViewLayoutSection.vue-qkkO6JVP.js";import{o as V,$ as w,aI as z,ay as B,D as I,F as $,j as E}from"./md-BLW5X4md.js";import"./modules/unplugin-icons-Oe2e3nhT.js";import"./slidev/context-5ERYHSt8.js";import"./index-vLjcKSoT.js";import"./modules/shiki-DBUm8ogk.js";import"./modules/file-saver-BdX_bMbV.js";import"./fuse-Ch1WBRTM.js";import"./layout-helper-BPQt8DFN.js";const j={class:"flex h-full w-full flex-col gap-2 pt-8"},D={class:"flex min-h-8 items-center justify-between gap-2 pl-1.5"},F={class:"has-[:focus-visible]:bg-b-1 z-1 group relative flex flex-col rounded-lg"},M={class:"h-full min-h-[calc(1rem*4)]"},N={key:1,class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},P=g({__name:"MarkdownInput",props:{modelValue:{},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue"],setup(x,{emit:s}){const d=s,t=k("preview"),i=k(null);return y(t,a=>{a==="edit"&&_(()=>{var e;(e=i.value)==null||e.focus()})}),(a,e)=>(o(),p("div",j,[n("div",D,[e[6]||(e[6]=n("h3",{class:"font-bold"},"Description",-1)),t.value==="preview"?(o(),c(l(w),{key:0,class:"text-c-2 hover:text-c-1 flex items-center gap-2",size:"sm",type:"button",variant:"outlined",onClick:e[0]||(e[0]=r=>t.value="edit")},{default:m(()=>[v(l(V),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[5]||(e[5]=n("span",null,"Edit",-1))]),_:1})):u("",!0)]),n("div",F,[n("div",M,[t.value==="preview"?(o(),p(h,{key:0},[a.modelValue?(o(),p(h,{key:0},[a.modelValue?(o(),c(l(z),{key:0,class:"hover:border-b-3 h-full rounded border border-transparent p-1.5",value:a.modelValue,withImages:"",onDblclick:e[1]||(e[1]=r=>t.value="edit")},null,8,["value"])):u("",!0),e[7]||(e[7]=n("div",{class:"brightness-lifted -z-1 bg-b-1 absolute inset-0 hidden rounded group-hover:block group-has-[:focus-visible]:hidden"},null,-1))],64)):(o(),p("div",N,[v(l(w),{class:"hover:bg-b-2 hover:text-c-1 text-c-2 flex items-center gap-2",size:"sm",variant:"ghost",onClick:e[2]||(e[2]=r=>t.value="edit")},{default:m(()=>[v(l(V),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[8]||(e[8]=n("span",null,"Write a description",-1))]),_:1})]))],64)):u("",!0),t.value==="edit"?(o(),c(B,{key:1,ref_key:"codeInputRef",ref:i,class:"h-full border px-0.5 py-0",envVariables:a.envVariables,environment:a.environment,modelValue:a.modelValue,workspace:a.workspace,onBlur:e[3]||(e[3]=r=>t.value="preview"),"onUpdate:modelValue":e[4]||(e[4]=r=>d("update:modelValue",r))},null,8,["envVariables","environment","modelValue","workspace"])):u("",!0)])])]))}}),U=I(P,[["__scopeId","data-v-b6d37ddc"]]),L=g({__name:"CollectionOverview",setup(x){const{activeCollection:s,activeEnvironment:d,activeEnvVariables:t,activeWorkspace:i}=$(),{collectionMutators:a}=E(),e=r=>{s.value&&a.edit(s.value.uid,"info.description",r)};return(r,W)=>(o(),c(C,null,{default:m(()=>{var f,b;return[l(d)&&l(i)?(o(),c(U,{key:0,envVariables:l(t),environment:l(d),modelValue:((b=(f=l(s))==null?void 0:f.info)==null?void 0:b.description)??"",workspace:l(i),"onUpdate:modelValue":e},null,8,["envVariables","environment","modelValue","workspace"])):u("",!0)]}),_:1}))}});export{L as default};
