import{o as n,b as r,f as x,d as w,t as _,e as f,S as i,l as m,g as v,av as h,k,c as $,F as M,R as E,r as R,h as V,x as N,i as z,q as K,s as S,ae as A,j as C,K as P,n as T,z as F,ai as j,aj as I,m as L}from"./modules/vue-DqyYkKqv.js";import{D as B,E as q,o as y,C as Q,aQ as U,a3 as G,$ as H}from"./md-BLW5X4md.js";import{w as J}from"./DeleteSidebarListElement.vue-CN0nbuaK.js";const O={},W={class:"gap-1/2 flex flex-col px-3 pb-[75px]"};function X(u,c){return n(),r("ul",W,[x(u.$slots,"default")])}const re=B(O,[["render",X]]),Y={class:"absolute right-1 flex opacity-0 group-hover:opacity-100"},Z=w({__name:"SidebarListElementActions",props:{variable:{},warningMessage:{},isCopyable:{type:Boolean},isDeletable:{type:Boolean},isRenameable:{type:Boolean}},emits:["delete","rename"],setup(u,{emit:c}){const o=c,t=_({action:"None",name:""}),s=q(),{copyToClipboard:p}=U();function g(e){t.value={action:e,name:u.variable.name},s.show()}function b(){s.hide(),t.value={action:"None",name:""}}function l(e){o("delete",e),b()}return(e,a)=>(n(),r(M,null,[f("div",Y,[e.isCopyable?(n(),r("button",{key:0,class:"text-c-3 hover:bg-b-3 hover:text-c-1 rounded p-[5px]",type:"button",onClick:a[0]||(a[0]=d=>i(p)(e.variable.name))},[m(i(y),{class:"h-3 w-3",icon:"Clipboard"})])):v("",!0),e.isRenameable?(n(),r("button",{key:1,class:"text-c-3 hover:bg-b-3 hover:text-c-1 rounded p-[5px]",type:"button",onClick:a[1]||(a[1]=d=>o("rename",e.variable.uid))},[m(i(y),{class:"h-3 w-3",icon:"Edit"})])):v("",!0),!e.variable.isDefault&&e.isDeletable?(n(),r("button",{key:2,class:"text-c-3 hover:bg-b-3 hover:text-c-1 rounded p-1",type:"button",onClick:a[2]||(a[2]=h(d=>g("Delete"),["prevent"]))},[m(i(y),{class:"h-3.5 w-3.5",icon:"Close"})])):v("",!0)]),m(i(Q),{size:"sm",state:i(s),title:`${t.value.action} ${t.value.name}`},{default:k(()=>[t.value.action==="Delete"?(n(),$(J,{key:0,variableName:t.value.name,warningMessage:e.warningMessage,onClose:b,onDelete:a[3]||(a[3]=d=>l(e.variable.uid))},null,8,["variableName","warningMessage"])):v("",!0)]),_:1},8,["state","title"])],64))}}),ee={class:"empty-variable-name line-clamp-1 break-all text-sm group-hover:pr-5"},ae=w({__name:"SidebarListElement",props:{variable:{},warningMessage:{},to:{},isDeletable:{type:Boolean},isCopyable:{type:Boolean},isRenameable:{type:Boolean}},emits:["delete","colorModal","rename"],setup(u,{emit:c}){const o=u,t=c,s=E(),p=e=>{e.metaKey?window.open(s.resolve(o.to).href,"_blank"):s.push(o.to)},g=e=>{t("delete",e)},b=e=>{t("colorModal",e)},l=e=>{t("rename",e)};return(e,a)=>{const d=R("router-link");return n(),r("li",null,[m(d,{class:z(["text-c-2 hover:bg-b-2 group relative flex h-8 items-center gap-1.5 rounded py-1 pr-1.5 font-medium no-underline",[e.variable.color?"pl-1":"pl-1.5"]]),exactActiveClass:"bg-b-2 text-c-1",role:"button",to:e.to,onClick:a[1]||(a[1]=h(D=>p(D),["prevent"]))},{default:k(()=>[e.variable.color?(n(),r("button",{key:0,class:"hover:bg-b-3 rounded p-1.5",type:"button",onClick:a[0]||(a[0]=D=>b(e.variable.uid))},[f("div",{class:"h-2.5 w-2.5 rounded-xl",style:V({backgroundColor:e.variable.color})},null,4)])):v("",!0),e.variable.icon?(n(),$(i(y),{key:1,class:"text-sidebar-c-2 size-3.5 stroke-[2.25]",icon:e.variable.icon},null,8,["icon"])):v("",!0),f("span",ee,N(e.variable.name),1),m(Z,{isCopyable:!!e.isCopyable,isDeletable:!!e.isDeletable,isRenameable:!!e.isRenameable,variable:{...e.variable,isDefault:e.variable.isDefault??!1},warningMessage:e.warningMessage,onDelete:g,onRename:l},null,8,["isCopyable","isDeletable","isRenameable","variable","warningMessage"])]),_:1},8,["class","to"])])}}}),ue=B(ae,[["__scopeId","data-v-245380f1"]]),te={class:"flex gap-2"},le={class:"flex max-h-8 flex-1"},ce=w({__name:"CommandActionForm",props:{loading:{},disabled:{type:Boolean,default:!1}},emits:["submit","cancel","back"],setup(u){const{cx:c}=G();return(o,t)=>(n(),r("form",{class:"flex w-full flex-col gap-3",onKeydown:t[0]||(t[0]=C(h(()=>{},["stop"]),["enter"])),onSubmit:t[1]||(t[1]=h(s=>o.$emit("submit"),["prevent","stop"]))},[f("div",K(S(i(c)("relative flex min-h-20 flex-col rounded"))),[x(o.$slots,"default")],16),f("div",te,[f("div",le,[x(o.$slots,"options")]),m(i(H),{class:"max-h-8 p-0 px-3 text-xs",disabled:o.disabled,loading:o.loading,type:"submit"},{default:k(()=>[x(o.$slots,"submit",{},()=>[t[2]||(t[2]=A("Continue"))])]),_:3},8,["disabled","loading"])])],32))}}),oe=["placeholder"],pe=w({inheritAttrs:!1,__name:"CommandActionInput",props:{modelValue:{},placeholder:{},autofocus:{type:Boolean}},emits:["update:modelValue","onDelete"],setup(u,{emit:c}){const o=u,t=c,s=_(null);P(()=>T(()=>{var l;o.autofocus||(l=s.value)==null||l.focus()}));const p=F({get:()=>o.modelValue??"",set:l=>t("update:modelValue",l)});function g(l){var e;if(l.shiftKey||!l.target)return;l.preventDefault();const a=l.target,d=new Event("submit",{cancelable:!0});(e=a.form)==null||e.dispatchEvent(d)}function b(l){p.value===""&&(l.preventDefault(),l.stopPropagation(),t("onDelete",l))}return(l,e)=>j((n(),r("textarea",L({ref_key:"input",ref:s,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),class:"min-h-8 w-full flex-1 resize-none border-none py-1.5 pl-8 text-sm outline-none",placeholder:o.placeholder??"",wrap:"hard"},l.$attrs,{onKeydown:[e[1]||(e[1]=C(a=>b(a),["delete"])),e[2]||(e[2]=C(a=>g(a),["enter"]))]}),null,16,oe)),[[I,p.value]])}});export{re as _,ue as a,pe as b,ce as h};
