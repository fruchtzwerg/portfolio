import{x as B,y as E}from"../modules/unplugin-icons-sAfkKmWc.js";import{d as N,t as q,ay as U,C as b,$ as V,y as k,az as z,o as a,b as f,f as H,A as p,c as x,g as M,i as D,h as K}from"../modules/vue-D8tilZHj.js";import{c as S,K as R,T as W,U as j,b as L}from"../index-2wCLglk1.js";import{u as T}from"./context-CceD1aDK.js";const F=["title"],G=N({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:S.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(c){const e=c,{$clicksContext:i}=T(),o=q(),m=R();U(()=>{i.unregister(m)}),b(()=>{var t;(t=o.value)==null||t.classList.toggle("slidev-code-line-numbers",e.lines)}),V(()=>{var _;if(!i||!((_=e.ranges)!=null&&_.length))return;const{start:t,end:s,delta:l}=i.resolve(e.at,e.ranges.length-1);i.register(m,{max:s,delta:l});const r=k(()=>Math.max(0,i.current-t+1)),d=k(()=>e.finally==="last"?e.ranges.at(-1):e.finally.toString());b(()=>{if(!o.value)return;let u=e.ranges[r.value]??d.value;const h=u==="hide";o.value.classList.toggle(W,h),h&&(u=e.ranges[r.value+1]??d.value);const y=o.value.querySelector(".shiki"),v=Array.from(y.querySelectorAll("code > .line")),A=v.length;if(j(u,A,e.startLine,n=>[v[n]]),e.maxHeight){const n=Array.from(y.querySelectorAll(".line.highlighted"));n.reduce((C,I)=>I.offsetHeight+C,0)>o.value.offsetHeight?n[0].scrollIntoView({behavior:"smooth",block:"start"}):n.length>0&&n[Math.round((n.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:g,copy:$}=z();function w(){var s,l;const t=(l=(s=o.value)==null?void 0:s.querySelector(".slidev-code"))==null?void 0:l.textContent;t&&$(t)}return(t,s)=>{const l=B,r=E;return a(),f("div",{ref_key:"el",ref:o,class:D(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":e.lines}]),style:K({"max-height":e.maxHeight,"overflow-y":e.maxHeight?"scroll":void 0,"--start":e.startLine})},[H(t.$slots,"default"),p(S).codeCopy?(a(),f("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:p(g)?"Copied":"Copy",onClick:s[0]||(s[0]=d=>w())},[p(g)?(a(),x(l,{key:0,class:"p-2 w-8 h-8"})):(a(),x(r,{key:1,class:"p-2 w-8 h-8"}))],8,F)):M("v-if",!0)],6)}}}),te=L(G,[["__file","/Users/ben/git/personal/portfolio/node_modules/.pnpm/@slidev+client@0.48.8_postcss@8.4.38_vite@5.2.8/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),J={},O={class:"slidev-layout default"};function P(c,e){return a(),f("div",O,[H(c.$slots,"default")])}const oe=L(J,[["render",P],["__file","/Users/ben/git/personal/portfolio/node_modules/.pnpm/@slidev+client@0.48.8_postcss@8.4.38_vite@5.2.8/node_modules/@slidev/client/layouts/default.vue"]]);export{oe as I,te as _};
