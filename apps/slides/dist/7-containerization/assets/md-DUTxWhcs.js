import{I as h,_ as r}from"./slidev/default-Cjcj6kzu.js";import{o as F,c as p,k as l,e as i,l as d,m as o,ae as s,q as g,s as A,S as t}from"./modules/vue-TJ3kCk-5.js";import{u as y,f as c}from"./slidev/context-BenAVTgp.js";import"./modules/unplugin-icons-DXotKPpV.js";import"./index-CkaTChAo.js";import"./modules/shiki-Dri374Up.js";const v={__name:"index.md__slidev_8",setup(E){const{$slidev:C,$nav:f,$clicksContext:n,$clicks:m,$page:u,$renderContext:B,$frontmatter:e}=y();return n.setup(),(_,a)=>{const k=r;return F(),p(h,g(A(t(c)(t(e),7))),{default:l(()=>[a[1]||(a[1]=i("h1",null,"Multi-stage build",-1)),d(k,o({},{ranges:[]}),{default:l(()=>a[0]||(a[0]=[i("pre",{class:"shiki shiki-themes ariake-dark min-light slidev-code",style:{"--shiki-dark":"#C4C4CD","--shiki-light":"#24292eff","--shiki-dark-bg":"#0E1019","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#555C77","--shiki-dark-font-style":"italic","--shiki-light":"#C2C3C5","--shiki-light-font-style":"inherit"}},"# Use any image as builder image")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"FROM"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," node:20"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," AS"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," builder")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"WORKDIR"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," /var/www")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"COPY"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," ."),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," .")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"ENV"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," NODE_ENV=production")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"RUN"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," pnpm"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," install"),i("span",{style:{"--shiki-dark":"#C4C4CD","--shiki-light":"#212121"}}," &&"),i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}}," pnpm"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," build")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#555C77","--shiki-dark-font-style":"italic","--shiki-light":"#C2C3C5","--shiki-light-font-style":"inherit"}},"# Use an official Node.js runtime for your production image")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"FROM"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," node:20-alpine")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"WORKDIR"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," /var/www")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"COPY"),i("span",{style:{"--shiki-dark":"#DDA2F6","--shiki-dark-font-style":"italic","--shiki-light":"#2B5581","--shiki-light-font-style":"inherit"}}," --from=builder"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," /var/www/dist"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," ./dist")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"COPY"),i("span",{style:{"--shiki-dark":"#DDA2F6","--shiki-dark-font-style":"italic","--shiki-light":"#2B5581","--shiki-light-font-style":"inherit"}}," --from=builder"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," /var/www/node_modules"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," ./node_modules")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"ENV"),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}}," PORT="),i("span",{style:{"--shiki-dark":"#DDA2F6","--shiki-dark-font-style":"italic","--shiki-light":"#1976D2","--shiki-light-font-style":"inherit"}},"3000")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"EXPOSE"),i("span",{style:{"--shiki-dark":"#85B1E0","--shiki-light":"#24292EFF"}}," $PORT")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F5FAFF","--shiki-light":"#6F42C1"}},"CMD"),i("span",{style:{"--shiki-dark":"#C4C4CD","--shiki-light":"#24292EFF"}}," ["),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#22863A"}},'"node"'),i("span",{style:{"--shiki-dark":"#C4C4CD","--shiki-light":"#24292EFF"}},", "),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#22863A"}},'"dist/main.js"'),i("span",{style:{"--shiki-dark":"#9AEFEA","--shiki-light":"#2B5581"}},"]")])])],-1)])),_:1},16)]),_:1},16)}}};export{v as default};
